"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _useEventListener = _interopRequireDefault(require("../useEventListener"));
var _isBrowser = _interopRequireDefault(require("../utils/isBrowser"));
var getVisibility = function getVisibility() {
  if (!_isBrowser["default"]) {
    return 'visible';
  }
  return document.visibilityState;
};
function useDocumentVisibility() {
  var _useState = (0, _react.useState)(function () {
      return getVisibility();
    }),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    documentVisibility = _useState2[0],
    setDocumentVisibility = _useState2[1];
  (0, _useEventListener["default"])('visibilitychange', function () {
    setDocumentVisibility(getVisibility());
  }, {
    target: function target() {
      return document;
    }
  });
  return documentVisibility;
}
var _default = useDocumentVisibility;
exports["default"] = _default;