{"ast":null,"code":"import _slicedToArray from\"/Users/a366/pizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{addItem,selectCartItemById}from\"../../redux/slices/cartSlice.ts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var selectorName=[\"тонкое\",\"традиционное\"];export var PizzaBlock=function PizzaBlock(_ref){var id=_ref.id,title=_ref.title,price=_ref.price,imageUrl=_ref.imageUrl,sizes=_ref.sizes,types=_ref.types;var dispatch=useDispatch();var cartItem=useSelector(selectCartItemById(id));var _useState=useState(0),_useState2=_slicedToArray(_useState,2),pizzaBlockSelector=_useState2[0],setPizzaBlockSelector=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),pizzaBlockSize=_useState4[0],setPizzaBlockSize=_useState4[1];var addedCount=cartItem?cartItem.count:0;var onClickAdd=function onClickAdd(){var item={id:id,title:title,price:price,imageUrl:imageUrl,type:selectorName[pizzaBlockSelector],size:sizes[pizzaBlockSize],count:0};dispatch(addItem(item));};return/*#__PURE__*/_jsx(\"div\",{className:\"pizza-block-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"pizza-block__image\",src:imageUrl,alt:\"Pizza\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pizza-block__title\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(typeID){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setPizzaBlockSelector(typeID);},className:pizzaBlockSelector===typeID?\"active\":\"\",children:selectorName[typeID]},typeID);})}),/*#__PURE__*/_jsx(\"ul\",{children:sizes.map(function(size,i){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return setPizzaBlockSize(i);},className:pizzaBlockSize===i?\"active\":\"\",children:[size,\" \\u0441\\u043C.\"]},size);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__price\",children:[\"\\u043E\\u0442 \",price,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClickAdd,className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),addedCount>0&&/*#__PURE__*/_jsx(\"i\",{children:addedCount})]})]})]})});};export default PizzaBlock;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","addItem","selectCartItemById","jsx","_jsx","jsxs","_jsxs","selectorName","PizzaBlock","_ref","id","title","price","imageUrl","sizes","types","dispatch","cartItem","_useState","_useState2","_slicedToArray","pizzaBlockSelector","setPizzaBlockSelector","_useState3","_useState4","pizzaBlockSize","setPizzaBlockSize","addedCount","count","onClickAdd","item","type","size","className","children","src","alt","map","typeID","onClick","i","width","height","viewBox","fill","xmlns","d"],"sources":["/Users/a366/pizza/src/componets/PizzaBlock/PizzaBlock.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  addItem,\n  selectCartItemById,\n  CartItem,\n} from \"../../redux/slices/cartSlice.ts\";\n\nconst selectorName = [\"тонкое\", \"традиционное\"];\n\ntype PizzaBlockProps = {\n  id: string;\n  title: string;\n  price: number;\n  imageUrl: string;\n  sizes: number[];\n  types: string[];\n  count: number;\n  rating: number;\n};\n\nexport const PizzaBlock: React.FC<PizzaBlockProps> = ({\n  id,\n  title,\n  price,\n  imageUrl,\n  sizes,\n  types,\n}) => {\n  const dispatch = useDispatch();\n  const cartItem = useSelector(selectCartItemById(id));\n  const [pizzaBlockSelector, setPizzaBlockSelector] = useState<number | string>(\n    0\n  );\n  const [pizzaBlockSize, setPizzaBlockSize] = useState(0);\n\n  const addedCount: CartItem = cartItem ? cartItem.count : 0;\n\n  const onClickAdd = () => {\n    const item: CartItem = {\n      id,\n      title,\n      price,\n      imageUrl,\n      type: selectorName[pizzaBlockSelector],\n      size: sizes[pizzaBlockSize],\n      count: 0,\n    };\n    dispatch(addItem(item));\n  };\n\n  return (\n    <div className=\"pizza-block-wrapper\">\n      <div className=\"pizza-block\">\n        <img className=\"pizza-block__image\" src={imageUrl} alt=\"Pizza\" />\n        <h4 className=\"pizza-block__title\">{title}</h4>\n        <div className=\"pizza-block__selector\">\n          <ul>\n            {types.map((typeID: string | number) => (\n              <li\n                key={typeID}\n                onClick={() => setPizzaBlockSelector(typeID)}\n                className={pizzaBlockSelector === typeID ? \"active\" : \"\"}\n              >\n                {selectorName[typeID]}\n              </li>\n            ))}\n          </ul>\n          <ul>\n            {sizes.map((size, i) => (\n              <li\n                key={size}\n                onClick={() => setPizzaBlockSize(i)}\n                className={pizzaBlockSize === i ? \"active\" : \"\"}\n              >\n                {size} см.\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"pizza-block__bottom\">\n          <div className=\"pizza-block__price\">от {price} ₽</div>\n          <button\n            onClick={onClickAdd}\n            className=\"button button--outline button--add\"\n          >\n            <svg\n              width=\"12\"\n              height=\"12\"\n              viewBox=\"0 0 12 12\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\n                fill=\"white\"\n              />\n            </svg>\n            <span>Добавить</span>\n            {addedCount > 0 && <i>{addedCount}</i>}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PizzaBlock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}