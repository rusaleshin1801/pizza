{"ast":null,"code":"import _slicedToArray from\"/Users/a366/pizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import debounce from\"lodash.debounce\";import styles from\"./Search.module.scss\";import{useDispatch}from\"react-redux\";import{setSearchValue}from\"../../redux/slices/filterSlice.ts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Search=function Search(){var dispatch=useDispatch();var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var inputRef=React.useRef(null);var onClickClear=function onClickClear(){var _inputRef$current;dispatch(setSearchValue(\"\"));setValue(\"\");(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};var updateSearchValue=React.useCallback(debounce(function(str){dispatch(setSearchValue(str));},200),[]);var onChangeInput=function onChangeInput(event){setValue(event.target.value);updateSearchValue(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsxs(\"svg\",{className:styles.icon,enableBackground:\"new 0 0 32 32\",id:\"EditableLine\",version:\"1.1\",viewBox:\"0 0 32 32\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"14\",cy:\"14\",fill:\"none\",id:\"XMLID_42_\",r:\"9\",stroke:\"#000000\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeMiterlimit:\"10\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"line\",{fill:\"none\",id:\"XMLID_44_\",stroke:\"#000000\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeMiterlimit:\"10\",strokeWidth:\"2\",x1:\"27\",x2:\"20.366\",y1:\"27\",y2:\"20.366\"})]}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:value,onChange:onChangeInput,className:styles.input,placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u0438\\u0446\\u0446\\u044B...\"}),value&&/*#__PURE__*/_jsx(\"svg\",{onClick:onClickClear,className:styles.clearIcon,viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"})})]});};export default Search;","map":{"version":3,"names":["React","debounce","styles","useDispatch","setSearchValue","jsx","_jsx","jsxs","_jsxs","Search","dispatch","_React$useState","useState","_React$useState2","_slicedToArray","value","setValue","inputRef","useRef","onClickClear","_inputRef$current","current","focus","updateSearchValue","useCallback","str","onChangeInput","event","target","className","root","children","icon","enableBackground","id","version","viewBox","xmlns","cx","cy","fill","r","stroke","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeWidth","x1","x2","y1","y2","ref","onChange","input","placeholder","onClick","clearIcon","d"],"sources":["/Users/a366/pizza/src/componets/Search/Search.tsx"],"sourcesContent":["import React from \"react\";\nimport debounce from \"lodash.debounce\";\n\nimport styles from \"./Search.module.scss\";\nimport { useDispatch } from \"react-redux\";\nimport { setSearchValue } from \"../../redux/slices/filterSlice.ts\";\n\nexport const Search: React.FC = () => {\n  const dispatch = useDispatch();\n  const [value, setValue] = React.useState<string>();\n  const inputRef = React.useRef<HTMLInputElement>(null);\n\n  const onClickClear = () => {\n    dispatch(setSearchValue(\"\"));\n    setValue(\"\");\n    inputRef.current?.focus();\n  };\n\n  const updateSearchValue = React.useCallback(\n    debounce((str) => {\n      dispatch(setSearchValue(str));\n    }, 200),\n    []\n  );\n\n  const onChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(event.target.value);\n    updateSearchValue(event.target.value);\n  };\n\n  return (\n    <div className={styles.root}>\n      <svg\n        className={styles.icon}\n        enableBackground=\"new 0 0 32 32\"\n        id=\"EditableLine\"\n        version=\"1.1\"\n        viewBox=\"0 0 32 32\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle\n          cx=\"14\"\n          cy=\"14\"\n          fill=\"none\"\n          id=\"XMLID_42_\"\n          r=\"9\"\n          stroke=\"#000000\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeMiterlimit=\"10\"\n          strokeWidth=\"2\"\n        />\n        <line\n          fill=\"none\"\n          id=\"XMLID_44_\"\n          stroke=\"#000000\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeMiterlimit=\"10\"\n          strokeWidth=\"2\"\n          x1=\"27\"\n          x2=\"20.366\"\n          y1=\"27\"\n          y2=\"20.366\"\n        />\n      </svg>\n      <input\n        ref={inputRef}\n        value={value}\n        onChange={onChangeInput}\n        className={styles.input}\n        placeholder=\"Поиск пиццы...\"\n      />\n      {value && (\n        <svg\n          onClick={onClickClear}\n          className={styles.clearIcon}\n          viewBox=\"0 0 20 20\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\" />\n        </svg>\n      )}\n    </div>\n  );\n};\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}